{"version":3,"file":"static/js/3744.d9937c88.chunk.js","mappings":"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","sources":["components/source/Image.js","components/source/Scene.js","components/source/Timer.js","components/source/Toggle.js","components/source/Variable.js","components/studio/hooks/useTimer.js","hooks/usePublic.js","hooks/useStudio.js","projects/Demo/components/source/replay/Deck.js","projects/Demo/components/source/replay/Scoreboard.js"],"sourcesContent":["// Import core components\nimport { useEffect, useRef, useState } from 'react'\nimport { CSSTransition, SwitchTransition } from 'react-transition-group'\nimport cN from 'classnames'\n\n// Import our components\nimport { usePublic, useStudio } from 'hooks'\n\n// Import style\n// ...\n\nconst namespace = 'variables'\n\n/**\n * Component: Image\n *\n * @returns {React.FunctionComponentElement} React.FunctionComponentElement\n */\nexport const _Image = (properties) => {\n  // Properties\n  const { name } = properties\n  const path = `${namespace}.${name}`\n  // Hooks\n  const publik = usePublic()\n  // Redux\n  const val = useStudio(path) || ''\n  // States\n  const [props, setProps] = useState({})\n  // Refs\n  const $ref = useRef(null)\n\n  useEffect(() => {\n    const { className, src = false } = properties\n\n    setProps({\n      ...properties,\n      className: cN('variable', className),\n      src: src ? `${publik}/${src.replace(/:var:/, val)}` : `1x1.png`,\n    })\n  }, [properties, publik, val])\n\n  return (\n    <SwitchTransition>\n      <CSSTransition addEndListener={(next) => $ref.current.addEventListener('transitionend', next, true)} appear key={val} nodeRef={$ref}>\n        <img ref={$ref} {...props} />\n      </CSSTransition>\n    </SwitchTransition>\n  )\n}\n","// Import core components\nimport cN from 'classnames'\n\n// Import our components\n// ...\n\n// Import style\n// ...\n\n/**\n * Component: Scene\n *\n * @returns {React.FunctionComponentElement} React.FunctionComponentElement\n */\nexport const Scene = (properties) => {\n  const { children, className, id } = properties\n\n  return (\n    <div id={id} className={cN(className, 'overflow-hidden')}>\n      {children}\n    </div>\n  )\n}\n","// Import core components\nimport { useEffect, useRef, useState } from 'react'\nimport { CSSTransition } from 'react-transition-group'\nimport cN from 'classnames'\n\n// Import our components\nimport { useTimer } from '../studio/hooks'\n\n// Import style\n// ...\n\nconst namespace = 'timers'\n\nexport const Timer = (properties) => {\n  // Properties\n  const { name } = properties\n  const path = `${namespace}.${name}`\n  // Hooks\n  const { active, text } = useTimer({ path })\n  // States\n  const [props, setProps] = useState({})\n  // Refs\n  const $ref = useRef(null)\n\n  useEffect(() => {\n    const { className } = properties\n\n    setProps({\n      ...properties,\n      className: cN('timer', className),\n    })\n  }, [properties])\n\n  return (\n    <CSSTransition addEndListener={(next) => $ref.current.addEventListener('transitionend', next)} appear in={active} nodeRef={$ref}>\n      <span ref={$ref} {...props}>\n        {text}\n      </span>\n    </CSSTransition>\n  )\n}\n","// Import core components\nimport { useEffect, useRef, useState } from 'react'\nimport { CSSTransition } from 'react-transition-group'\nimport cN from 'classnames'\n\n// Import our components\nimport { useStudio } from 'hooks'\n\n// Import style\n// ...\n\nconst namespace = 'toggles'\n\nexport const Toggle = (properties) => {\n  // Properties\n  const { children, name } = properties\n  const path = `${namespace}.${name}`\n  // Redux\n  const val = useStudio(path) || false\n  // States\n  const [props, setProps] = useState({})\n  // Refs\n  const $ref = useRef(null)\n\n  useEffect(() => {\n    const { className } = properties\n\n    setProps({\n      ...properties,\n      className: cN('toggle', className),\n    })\n  }, [properties, val])\n\n  return (\n    <CSSTransition addEndListener={(next) => $ref.current.addEventListener('transitionend', next, true)} appear in={val} nodeRef={$ref}>\n      <div ref={$ref} {...props}>\n        {children}\n      </div>\n    </CSSTransition>\n  )\n}\n","// Import core components\nimport { useEffect, useRef, useState } from 'react'\nimport { CSSTransition, SwitchTransition } from 'react-transition-group'\nimport cN from 'classnames'\n\n// Import our components\nimport { useStudio } from 'hooks'\n\n// Import style\n// ...\n\nconst namespace = 'variables'\n\n/**\n * Component: Variable\n *\n * @returns {React.FunctionComponentElement} React.FunctionComponentElement\n */\nexport const Variable = (properties) => {\n  // Properties\n  const { name } = properties\n  const path = `${namespace}.${name}`\n  // Redux\n  const val = useStudio(path) || ''\n  // States\n  const [props, setProps] = useState({})\n  // Refs\n  const $ref = useRef(null)\n\n  useEffect(() => {\n    const { className } = properties\n\n    setProps({\n      ...properties,\n      className: cN('variable', className),\n    })\n  }, [properties, val])\n\n  return (\n    <SwitchTransition>\n      <CSSTransition addEndListener={(next) => $ref.current.addEventListener('transitionend', next, true)} appear key={val} nodeRef={$ref}>\n        <var ref={$ref} {...props}>\n          {val}\n        </var>\n      </CSSTransition>\n    </SwitchTransition>\n  )\n}\n","// Import core components\nimport { useEffect, useMemo, useRef, useState } from 'react'\n\n// Import our components\nimport { useStudio } from 'hooks'\n\n/**\n * Converts a number representing elapsed time to a string\n *\n * @param {number} t\n * @returns {string}\n */\nfunction timeToString(t) {\n  if (!t || t <= 0) return '00:00'\n\n  const d = new Date(t).toISOString()\n  return t >= 3600000 ? d.slice(11, -5) : d.slice(14, -5)\n}\n\n/**\n * Hook: useTimer\n *\n * @returns {object}\n */\nexport const useTimer = ({ path }) => {\n  // Redux\n  const val = useStudio(path)\n  // States\n  const [time, setTime] = useState(0)\n  // Refs\n  const t = useRef(null)\n\n  useEffect(() => {\n    setTime(val > 0 ? Math.ceil(val - Date.now()) : -1)\n    if (!val) clearTimeout(t.current)\n  }, [val])\n\n  return useMemo(() => {\n    const obj = {\n      active: time >= 0,\n      text: timeToString(time),\n    }\n\n    clearTimeout(t.current)\n\n    if (time >= 0) {\n      t.current = setTimeout(() => setTime(time - 1000), 1000)\n    }\n\n    return obj\n  }, [time])\n}\n","// Import core components\nimport { useParams } from 'react-router-dom'\n\n// Import our components\n\n/**\n * Hook: Public\n *\n * @param {string} path\n * @returns {Array}\n */\nexport const usePublic = () => {\n  // Hooks\n  const params = useParams()\n  // Variables\n  const publik = `./${params.code}`\n\n  return publik\n}\n","// Import core components\nimport { useSelector } from 'react-redux'\n\n// Import our components\nimport { selector } from 'db/slices/studio'\n\n/**\n * Hook: Studio\n *\n * @param {string} path\n * @returns {Array}\n */\nexport const useStudio = (path) => useSelector((state) => selector(state, path))\n","// Import core components\nimport { Image } from 'react-bootstrap'\n\n// Import our components\nimport { usePublic, useStudio } from 'hooks'\nimport { Toggle } from 'components/source'\nimport arsenals from '../../arsenals.json'\n\n// Import style\n// ...\n\n/**\n * Source: Command & Conquer - Deck\n *\n * @returns {React.FunctionComponentElement} React.FunctionComponentElement\n */\nfunction Deck(properties) {\n  // Properties\n  const { player } = properties\n  // Hooks\n  const faction = useStudio(`variables.players.${player}.deck.faction`)\n  const publik = usePublic()\n  // Variables\n  const arsenal = arsenals?.[faction]?.units || {}\n\n  return (\n    <div className=\"arsenal d-flex justify-content-center pb-2 w-100\">\n      {Object.values(arsenal).map((units) =>\n        units.map((unit) => (\n          <Toggle className=\"m-1\" key={unit} name={`players.${player}.deck.units.${unit}`}>\n            <Image src={`${publik}/units/${unit}.webp`} fluid />\n          </Toggle>\n        ))\n      )}\n    </div>\n  )\n}\n\n// Exported Component for use\nexport default Deck\n","// Import core components\nimport { useEffect, useState } from 'react'\nimport { Image } from 'react-bootstrap'\nimport cN from 'classnames'\n\n// Import our components\nimport { usePublic, useStudio } from 'hooks'\n\n// Import style\n// ...\n\n/**\n * Source: Command & Conquer - Scoreboard\n *\n * @returns {React.FunctionComponentElement} React.FunctionComponentElement\n */\nfunction Deck(properties) {\n  // Properties\n  const { player, reverse } = properties\n  // Hooks\n  const publik = usePublic()\n  // Redux\n  const score = +useStudio(`variables.players.${player}.score`) || 0\n  const faction = useStudio(`variables.players.${player}.deck.faction`)\n  const series = +useStudio(`variables.series.game.max`) || 3\n  // Variables\n  const [gameNum, setGameNum] = useState([0, 0, 0])\n\n  useEffect(() => {\n    const n = Math.floor((series || 1) / 2) + 1\n    setGameNum(Array(n).fill(() => 0))\n  }, [series])\n\n  return (\n    <p className={cN('score d-flex', reverse ? 'flex-row-reverse' : 'flex-row', 'mb-1')}>\n      {gameNum.map((_, i) => (\n        <Image key={i} src={`${publik}/overlay/game/points/${faction}-${score <= i ? 0 : 1}.png`} />\n      ))}\n    </p>\n  )\n}\n\n// Exported Component for use\nexport default Deck\n"],"names":["_Image","properties","name","path","concat","publik","usePublic","val","useStudio","_useState","useState","_useState2","_slicedToArray","props","setProps","$ref","useRef","useEffect","className","_properties$src","src","_objectSpread","cN","replace","_jsx","SwitchTransition","children","CSSTransition","addEndListener","next","current","addEventListener","appear","nodeRef","ref","Scene","id","Timer","_useTimer","useTimer","active","text","in","Toggle","Variable","timeToString","t","d","Date","toISOString","slice","_ref","time","setTime","Math","ceil","now","clearTimeout","useMemo","obj","setTimeout","params","useParams","code","useSelector","state","selector","_arsenals$faction","player","faction","arsenal","arsenals","units","Object","values","map","unit","Image","fluid","reverse","score","series","gameNum","setGameNum","n","floor","Array","fill","_","i"],"sourceRoot":""}