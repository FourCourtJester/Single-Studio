{"version":3,"file":"static/js/1019.52e59b5d.chunk.js","mappings":"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","sources":["components/source/Image.js","components/source/Scene.js","components/source/Timer.js","components/source/Toggle.js","components/source/Variable.js","components/studio/hooks/useTimer.js","hooks/useNamespace.js","hooks/usePublic.js","hooks/useStudio.js","projects/Demo/components/source/replay/Deck.js","../node_modules/react-bootstrap/esm/Image.js"],"sourcesContent":["// Import core components\nimport { useEffect, useRef, useState } from 'react'\nimport { CSSTransition, SwitchTransition } from 'react-transition-group'\nimport cN from 'classnames'\n\n// Import our components\nimport { useNamespace, usePublic, useStudio } from 'hooks'\n\n// Import style\n// ...\n\nconst namespace = 'variables'\n\nexport const _Image = (properties) => {\n  // Properties\n  const { name } = properties\n  // Hooks\n  const path = useNamespace({ type: namespace, name })\n  // Hooks\n  const publik = usePublic()\n  // Redux\n  const val = useStudio(path) || ''\n  // States\n  const [props, setProps] = useState({})\n  // Refs\n  const $ref = useRef(null)\n\n  useEffect(() => {\n    const { className, src = false } = properties\n\n    setProps({\n      ...properties,\n      className: cN('variable', className),\n      src: src ? `${publik}/${src.replace(/:var:/, val)}` : `1x1.png`,\n    })\n  }, [properties, publik, val])\n\n  return (\n    <SwitchTransition>\n      <CSSTransition addEndListener={(next) => $ref.current.addEventListener('transitionend', next, true)} appear key={val} nodeRef={$ref}>\n        <img ref={$ref} {...props} />\n      </CSSTransition>\n    </SwitchTransition>\n  )\n}\n","// Import core components\nimport cN from 'classnames'\n\n// Import our components\n// ...\n\n// Import style\n// ...\n\nexport const Scene = (properties) => {\n  const { children, className, id } = properties\n\n  return (\n    <div id={id} className={cN(className, 'overflow-hidden')}>\n      {children}\n    </div>\n  )\n}\n","// Import core components\nimport { useEffect, useRef, useState } from 'react'\nimport { CSSTransition } from 'react-transition-group'\nimport cN from 'classnames'\n\n// Import our components\nimport { useNamespace } from 'hooks'\nimport { useTimer } from '../studio/hooks'\n\n// Import style\n// ...\n\nconst namespace = 'timers'\n\nexport const Timer = (properties) => {\n  // Properties\n  const { name } = properties\n  // Hooks\n  const path = useNamespace({ type: namespace, name })\n  const { active, text } = useTimer({ path })\n  // States\n  const [props, setProps] = useState({})\n  // Refs\n  const $ref = useRef(null)\n\n  useEffect(() => {\n    const { className } = properties\n\n    setProps({\n      ...properties,\n      className: cN('timer', className),\n    })\n  }, [properties])\n\n  return (\n    <CSSTransition addEndListener={(next) => $ref.current.addEventListener('transitionend', next)} appear in={active} nodeRef={$ref}>\n      <span ref={$ref} {...props}>\n        {text}\n      </span>\n    </CSSTransition>\n  )\n}\n","// Import core components\nimport { useEffect, useRef, useState } from 'react'\nimport { CSSTransition } from 'react-transition-group'\nimport cN from 'classnames'\n\n// Import our components\nimport { useNamespace, useStudio } from 'hooks'\n\n// Import style\n// ...\n\nconst namespace = 'toggles'\n\nexport const Toggle = (properties) => {\n  // Properties\n  const { children, name } = properties\n  // Hooks\n  const path = useNamespace({ type: namespace, name })\n  // Redux\n  const val = useStudio(path) || false\n  // States\n  const [props, setProps] = useState({})\n  // Refs\n  const $ref = useRef(null)\n\n  useEffect(() => {\n    const { className } = properties\n\n    setProps({\n      ...properties,\n      className: cN('toggle', className),\n    })\n  }, [properties, val])\n\n  return (\n    <CSSTransition addEndListener={(next) => $ref.current.addEventListener('transitionend', next, true)} appear in={val} nodeRef={$ref}>\n      <div ref={$ref} {...props}>\n        {children}\n      </div>\n    </CSSTransition>\n  )\n}\n","// Import core components\nimport { useEffect, useRef, useState } from 'react'\nimport { CSSTransition, SwitchTransition } from 'react-transition-group'\nimport cN from 'classnames'\n\n// Import our components\nimport { useNamespace, useStudio } from 'hooks'\n\n// Import style\n// ...\n\nconst namespace = 'variables'\n\nexport const Variable = (properties) => {\n  // Properties\n  const { name } = properties\n  // Hooks\n  const path = useNamespace({ type: namespace, name })\n  // Redux\n  const val = useStudio(path) || ''\n  // States\n  const [props, setProps] = useState({})\n  // Refs\n  const $ref = useRef(null)\n\n  useEffect(() => {\n    const { className } = properties\n\n    setProps({\n      ...properties,\n      className: cN('variable', className),\n    })\n  }, [properties, val])\n\n  return (\n    <SwitchTransition>\n      <CSSTransition addEndListener={(next) => $ref.current.addEventListener('transitionend', next, true)} appear key={val} nodeRef={$ref}>\n        <var ref={$ref} {...props}>\n          {val}\n        </var>\n      </CSSTransition>\n    </SwitchTransition>\n  )\n}\n","// Import core components\nimport { useEffect, useMemo, useRef, useState } from 'react'\n\n// Import our components\nimport { useStudio } from 'hooks'\n\nfunction timeToString(t) {\n  if (!t || t <= 0) return '00:00'\n\n  const d = new Date(t).toISOString()\n  return t >= 3600000 ? d.slice(11, -5) : d.slice(14, -5)\n}\n\nexport const useTimer = ({ path }) => {\n  // Redux\n  const val = useStudio(path)\n  // States\n  const [time, setTime] = useState(0)\n  // Refs\n  const t = useRef(null)\n\n  useEffect(() => {\n    setTime(val > 0 ? Math.ceil(val - Date.now()) : -1)\n    if (!val) clearTimeout(t.current)\n  }, [val])\n\n  return useMemo(() => {\n    const obj = {\n      active: time >= 0,\n      text: timeToString(time),\n    }\n\n    clearTimeout(t.current)\n\n    if (time >= 0) {\n      t.current = setTimeout(() => setTime(time - 1000), 1000)\n    }\n\n    return obj\n  }, [time])\n}\n","// Import core components\nimport { useMemo } from 'react'\nimport { useParams } from 'react-router-dom'\n\n// Import our components\n\nexport const useNamespace = ({ type, name }) => {\n  // Hooks\n  const params = useParams()\n  const { code } = params\n\n  return useMemo(() => {\n    const path = [code]\n\n    if (type) path.push(type)\n    if (name) path.push(name)\n\n    return path.join('.')\n  }, [code, type, name])\n}\n","// Import core components\nimport { useParams } from 'react-router-dom'\n\n// Import our components\n\nexport const usePublic = () => {\n  // Hooks\n  const params = useParams()\n  // Variables\n  const publik = `./${params.code}`\n\n  return publik\n}\n","// Import core components\nimport { useSelector } from 'react-redux'\n\n// Import our components\nimport { selector } from 'db/slices/studio'\n\nexport const useStudio = (path) => useSelector((state) => selector(state, path))\n","// Import core components\nimport { Image } from 'react-bootstrap'\n\n// Import our components\nimport { useNamespace, usePublic, useStudio } from 'hooks'\nimport { Toggle } from 'components/source'\n\nimport arsenals from '../../arsenals.json'\n\n// Import style\n// ...\n\n/**\n * Source: Command & Conquer - Deck\n *\n * @returns {React.FunctionComponentElement} React.FunctionComponentElement\n */\nfunction Deck(properties) {\n  // Properties\n  const { player } = properties\n  // Hooks\n  const path = useNamespace({ type: 'variables', name: `players.${player}.deck.faction` })\n  const faction = useStudio(path)\n  const publik = usePublic()\n  // Variables\n  const arsenal = arsenals?.[faction]?.units || {}\n\n  return (\n    <div className=\"arsenal d-flex justify-content-center pb-2 w-100\">\n      {Object.values(arsenal).map((units) =>\n        units.map((unit) => (\n          <Toggle className=\"m-1\" key={unit} name={`players.${player}.deck.units.${unit}`}>\n            <Image src={`${publik}/units/${unit}.webp`} fluid />\n          </Toggle>\n        ))\n      )}\n    </div>\n  )\n}\n\n// Exported Component for use\nexport default Deck\n","import classNames from 'classnames';\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const propTypes = {\n  /**\n   * @default 'img'\n   */\n  bsPrefix: PropTypes.string,\n  /**\n   * Sets image as fluid image.\n   */\n  fluid: PropTypes.bool,\n  /**\n   * Sets image shape as rounded.\n   */\n  rounded: PropTypes.bool,\n  /**\n   * Sets image shape as circle.\n   */\n  roundedCircle: PropTypes.bool,\n  /**\n   * Sets image shape as thumbnail.\n   */\n  thumbnail: PropTypes.bool\n};\nconst defaultProps = {\n  fluid: false,\n  rounded: false,\n  roundedCircle: false,\n  thumbnail: false\n};\nconst Image = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  className,\n  fluid,\n  rounded,\n  roundedCircle,\n  thumbnail,\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'img');\n  return /*#__PURE__*/_jsx(\"img\", {\n    // eslint-disable-line jsx-a11y/alt-text\n    ref: ref,\n    ...props,\n    className: classNames(className, fluid && `${bsPrefix}-fluid`, rounded && `rounded`, roundedCircle && `rounded-circle`, thumbnail && `${bsPrefix}-thumbnail`)\n  });\n});\nImage.displayName = 'Image';\nImage.defaultProps = defaultProps;\nexport default Image;"],"names":["_Image","properties","name","path","useNamespace","type","publik","usePublic","val","useStudio","_useState","useState","_useState2","_slicedToArray","props","setProps","$ref","useRef","useEffect","className","_properties$src","src","_objectSpread","cN","concat","replace","_jsx","SwitchTransition","children","CSSTransition","addEndListener","next","current","addEventListener","appear","nodeRef","ref","Scene","id","Timer","_useTimer","useTimer","active","text","in","Toggle","Variable","timeToString","t","d","Date","toISOString","slice","_ref","time","setTime","Math","ceil","now","clearTimeout","useMemo","obj","setTimeout","code","useParams","push","join","params","useSelector","state","selector","_arsenals$faction","player","faction","arsenal","arsenals","units","Object","values","map","unit","Image","fluid","PropTypes","React","bsPrefix","rounded","roundedCircle","thumbnail","_objectWithoutProperties","_excluded","useBootstrapPrefix","classNames","displayName","defaultProps"],"sourceRoot":""}